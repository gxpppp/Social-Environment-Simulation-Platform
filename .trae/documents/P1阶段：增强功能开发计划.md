## 优化后台系统设置与场景创建功能

### 1. 模型选择优化

#### 1.1 后端改造

**文件**: `apps/api/src/modules/model/model.service.ts`

* 修改 `AVAILABLE_MODELS` 为动态加载模式

* 从 `f:\AAAexpert\multi-agent\models-list\siliconflow_models.txt` 解析完整模型列表

* 支持119个Silicon Flow模型

* 添加模型分类（文本、视觉、嵌入等）

* 添加模型搜索接口 `/models/search?q=keyword`

#### 1.2 前端改造

**文件**: `apps/web/src/pages/Settings/index.tsx`

* 添加API Key输入后自动加载模型列表

* 使用带搜索功能的Select组件（showSearch）

* 模型按分类分组显示（文本模型、视觉模型等）

* 显示完整模型ID（如 deepseek-ai/DeepSeek-V3.2）

* 添加模型筛选标签（Pro/免费/多模态等）

* 添加模型详情展示（价格、上下文长度）

### 2. 场景创建模拟时长优化

#### 2.1 前端改造

**文件**: `apps/web/src/components/SceneEditor/BasicConfig.tsx`

* 修改模拟时长最小值为365天（1年）

* 扩展现有时间步长选项：

  * 1小时（精细）

  * 1天（日常）

  * 1周（周度）

  * 1月（月度）

  * 1季度（季度）

  * 1年（年度）

* 添加自定义设置区域：

  * 自定义时长输入（数字输入框 + 单位选择）

  * 自定义时间步长输入

  * 实时计算预计Tick数

* 添加时间配置预设模板（快速选择）

### 3. 整体交互改进

#### 3.1 视觉反馈

* 添加加载状态指示器

* 添加保存成功/失败提示

* 添加表单验证实时反馈

* 添加操作确认对话框

#### 3.2 响应式设计

* 使用Grid布局适配不同屏幕

* 移动端优化（折叠面板、底部固定按钮）

* 添加骨架屏加载效果

### 4. 文件修改清单

| 文件                                                    | 修改内容         |
| ----------------------------------------------------- | ------------ |
| `apps/api/src/modules/model/model.service.ts`         | 动态模型列表、搜索接口  |
| `apps/api/src/modules/model/model.controller.ts`      | 添加搜索端点       |
| `apps/web/src/pages/Settings/index.tsx`               | 模型选择优化、搜索筛选  |
| `apps/web/src/components/SceneEditor/BasicConfig.tsx` | 时长设置优化、自定义配置 |
| `apps/web/src/services/model.service.ts`              | 添加搜索API调用    |

### 5. 验收标准

* [ ] 输入API Key后自动加载119个模型

* [ ] 支持模型搜索和筛选

* [ ] 显示完整模型ID格式

* [ ] 模拟时长最小值365天

* [ ] 支持6种时间步长选项

* [ ] 支持自定义时长和步长

* [ ] 界面响应流畅，视觉反馈清晰

